<UserControl x:Class="TechReportToDB.Views.Pages.SearchByToolsPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:TechReportToDB.Views.Pages"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>

        </Grid.RowDefinitions>
        <GridSplitter Grid.Row="1" 
              Grid.Column="0" 
              Grid.ColumnSpan="11" 
              Height="5"
              VerticalAlignment="Center" 
              HorizontalAlignment="Stretch"
              IsEnabled="False"/>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <StackPanel Orientation="Horizontal">
                <Button Margin="5"
                        Style="{StaticResource MaterialDesignOutlinedButton}"
                        Content="Назад"
                        Command="{Binding DailyReportToDbPageCommand}"/>
                <Button Margin="5"
                        Style="{StaticResource MaterialDesignOutlinedButton}"
                        Content="Сводная"
                        Command="{Binding ExportCommand}"/>
                <Button Margin="5"
                        Style="{StaticResource MaterialDesignOutlinedButton}"
                        Content="Для заказчика"
                        Command="{Binding ExportEquipCommand}"/>
                <TextBlock Text="Поиск:"
                           Margin="5"
                             FontSize="14"
                            VerticalAlignment="Center"/>
                
            </StackPanel>
            <TextBox Margin="5" Grid.Column="1"
                    VerticalContentAlignment="Center"
                    HorizontalAlignment="Stretch"
                    FontSize="12"
                    Text="{Binding FilterTool, UpdateSourceTrigger=PropertyChanged}"/>
        </Grid>

        <DataGrid Grid.Row="2" 
                  ItemsSource="{Binding ToolList}" AutoGenerateColumns="False">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Месторождение" Binding="{Binding Job.Field}" />
                <DataGridTextColumn Header="Куст" Binding="{Binding Job.Pad}" />
                <DataGridTextColumn Header="Скважина" Binding="{Binding Job.Well}" />
                <DataGridTextColumn Header="Тип" Binding="{Binding Type}" />
                <DataGridTextColumn Header="Наименование" Binding="{Binding Name}" />

                <DataGridTextColumn Header="Серийный номер" Binding="{Binding SerialNumber}" />
                <DataGridTextColumn Header="Артикул" Binding="{Binding Art}" />
                <DataGridTextColumn Header="Паспорт" Binding="{Binding Pasport}" />
                <DataGridTextColumn Header="Статус" Binding="{Binding Status}" />
                <DataGridTextColumn Header="Наработка после ТО" Binding="{Binding CircTimeAfterInspection, StringFormat={}{0:F2}}" />
                <DataGridTextColumn Header="Общая наработка" Binding="{Binding CircTime, StringFormat={}{0:F2}}" />
                <DataGridTextColumn Header="Дата ТО" Binding="{Binding InspectionDate}" />
                <DataGridTextColumn Header="Дней до ТО" Binding="{Binding Days}" />
                <DataGridTextColumn Header="Дата прибытия" Binding="{Binding ArrivalDate}" />
                
                <DataGridTextColumn Header="От куда" Binding="{Binding From}" />
                <DataGridTextColumn Header="Дата отправки" Binding="{Binding DepartureDate}" />
                <DataGridTextColumn Header="Куда" Binding="{Binding To}" />
                <DataGridTextColumn Header="Коментарий" Binding="{Binding Comment}" />


                <DataGridTextColumn Header="Резьба верх" Binding="{Binding TopThread}" />
                <DataGridTextColumn Header="Резьба низ" Binding="{Binding BottomTread}" />
                <DataGridTextColumn Header="Остаток на стейве" Binding="{Binding Battery,StringFormat={}{0:F0}}" />
            </DataGrid.Columns>

        </DataGrid>
    </Grid>
</UserControl>
